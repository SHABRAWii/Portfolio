<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>5-bar planar parallel robot for sorting chocolates</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="../../assets/img/favicon.png" rel="icon">
    <link href="../../assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="../../assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="../../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="../../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="../../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="../../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="../../assets/css/style.css" rel="stylesheet">

    <!-- =======================================================
  * Template Name: MyResume
  * Template URL: https://bootstrapmade.com/free-html-bootstrap-template-my-resume/
  * Updated: Mar 17 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->

    <style>
        /* .video-container {
      display: flex; 
      justify-content: center;
      align-items: center;
      overflow: hidden; 
      background-color: rgb(153,152,154,255);
      
      height: 500px;
    }
    
    .video-container video {
      width: 60%; 
      height: 100%;
      object-fit: cover;
      
    } */
        
        body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
        }
        
        .portfolio-details-slider {
            width: 100%;
            padding: 0;
            overflow: hidden;
            transform: translateX(-50px);
        }
        
        .swiper-container {
            overflow: visible;
        }
        
        .swiper-slide {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 350px;
        }
        
        .swiper-slide img,
        .swiper-slide video {
            width: 100%;
            height: 100%;
            max-width: 800px;
            max-height: 350px;
            object-fit: contain;
            border-radius: 10px;
            border: 1px solid #ddd;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .swiper-slide img:hover,
        .swiper-slide video:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .swiper-pagination-bullet {
            background: #007bff;
            opacity: 1;
        }
        
        .swiper-pagination-bullet-active {
            background: #0056b3;
        }
        
        .copy-link-button {
            display: flex;
            align-items: center;
            color: blue;
            font-family: Arial, sans-serif;
            cursor: pointer;
            text-decoration: none;
            font-size: 12px;
            font-weight: bold;
            position: absolute;
            /* Positioning the button */
            top: 10px;
            /* Adjust the top position as needed */
            right: 10px;
            /* Adjust the right position as needed */
            background-color: white;
            /* Background color for contrast */
            padding: 5px 10px;
            /* Padding for better click area */
            border-radius: 5px;
            /* Rounded corners */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            /* Subtle shadow for depth */
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            /* Smooth transition for hover effects */
        }
        
        .copy-link-button img {
            margin-left: 5px;
            width: 18px;
            /* Adjust the size of the icon as needed */
            height: 18px;
        }
        
        .copy-link-button:hover {
            transform: scale(1.05);
            /* Slightly enlarge on hover */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            /* Darker shadow on hover */
            color: blue;
            /* Ensure color doesn't change on hover */
            text-decoration: none;
            /* Ensure no underline on hover */
        }
        /* Portfolio details styles */
        
        .portfolio-details {
            font-family: Arial, sans-serif;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .portfolio-details h2 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .portfolio-details p {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .portfolio-details h3 {
            color: #007bff;
            font-size: 20px;
            margin-bottom: 10px;
        }
        .swiper-container.gallery-thumbs1  {
            margin-top: 25px;
            height: 100px; /* Smaller height for thumbnails */
            box-sizing: border-box;
            margin-bottom: 10px; /* Space between thumbnails and pagination */
        }

        .swiper-container.gallery-thumbs1 .swiper-slide {
            width: 60px; /* Smaller width for each thumbnail */
            height: 100%; /* Keep height proportional */
            opacity: 0.4; /* Dim inactive thumbnails */
            transition: opacity 0.3s;
            cursor: pointer; /* Add pointer cursor for clickability */
        }

        .swiper-container.gallery-thumbs1 .swiper-slide-thumb-active {
            opacity: 1; /* Highlight active thumbnail */
        }
        .swiper-container.gallery-thumbs  {
            margin-top: 25px;
            height: 80px; /* Smaller height for thumbnails */
            box-sizing: border-box;
            margin-bottom: 10px; /* Space between thumbnails and pagination */
        }

        .swiper-container.gallery-thumbs .swiper-slide {
            width: 60px; /* Smaller width for each thumbnail */
            height: 100%; /* Keep height proportional */
            opacity: 0.4; /* Dim inactive thumbnails */
            transition: opacity 0.3s;
            cursor: pointer; /* Add pointer cursor for clickability */
        }

        .swiper-container.gallery-thumbs .swiper-slide-thumb-active {
            opacity: 1; /* Highlight active thumbnail */
        }

        /* Main Swiper */
        .portfolio-details-slider {
            width: 100%; /* Full width */
            height: auto; /* Adjust height based on content */
        }

        .swiper-pagination {
            margin-top: 10px; /* Add margin to create space between thumbnails and pagination */
        }
        /* Normal state for h6 and a */
        .roles h6 a {
            color: #287ad1 !important; /* Inherit color from the parent, typically the default link color */
            text-decoration: none; /* No underline by default */
            transition: color 0.2s, font-weight 0.2s; /* Smooth transition for color and font weight */
        }

        /* Hover state for h6 and a */
        .roles h6 a:hover {
            color: #06386e; /* Color on hover */
            font-weight: bold; /* Bold text on hover */
        }

        /* Normal state for list items */
        .roles li a {
            color: black !important; /* Default color for list items */
            transition: color 0.2s, font-weight 0.2s; /* Smooth transition for color and font weight */
        }

        /* Hover state for list items */
        .roles li a:hover {
            color: #06386e !important;; /* Original color on hover */
            font-weight: bold; /* Bold text on hover */
        }
        /* Add this to your CSS to ensure the container clears the floated element */
        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }

        /* Apply clearfix to the parent container of the paragraph and image */
        .parent-container {
            position: relative;
            padding: 10px;
        }

        .parent-container p {
            text-align: justify;
        }

        .parent-container img {
            float: right;
            max-width: 400px;
            margin-left: 20px;
            border-radius: 10px;
            border: 1px solid #ddd;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        /* Fix for when the hash link is clicked */
        .parent-container:target {
            padding-left: 20px; /* Adjust this padding as needed */
        }
        .parent-container h5{
            color:#08590a !important;
        }
        
        /* Button and iframe container styling */
        /* Adjust iframe container to take the full viewport */
        #modelFrameContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        /* Ensure iframe takes the full container space */
        #modelFrame {
            width: 100%;
            height: 100%;
        }


        #render3DButton {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            display: inline-flex;
            align-items: right;
            justify-content: right;
        }

        #render3DButton i {
            margin-right: 8px;
        }

        #closeButton {
            position: absolute;
            top: 10px;
            right: 20px;
            background-color: transparent;
            border: none;
            font-size: 24px;
            color: rgb(0, 0, 0)  !important;
            cursor: pointer;
        }

    </style>
</head>

<body>

    <main id="main">

        <!-- ======= Breadcrumbs ======= -->
        <a href="#" class="copy-link-button" id="copyLinkButton">
          Copy Link &nbsp;
            <img src="..\..\assets\img\copy_link.png" alt="Copy Link" style="width: 15px;">
        </a>



        <!-- ======= Portfolio Details Section ======= -->
        <section id="portfolio-details" class="portfolio-details">
            <div class="container">

                <div class="row gy-4">

                    <div class="col-lg-8">
                        <div class="portfolio-details-slider swiper">
                            <div class="swiper-wrapper align-items-center">


                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Render.JPG" alt="">
                                </div>

                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Render_01.JPG" alt="">
                                </div>

                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Robot-01.png" alt="">
                                </div>

                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-00.png" alt="">
                                </div>

                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-01.png" alt="">
                                </div>

                                <div class="swiper-slide">
                                    <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-02.png" alt="">
                                </div>

                            
                            </div>
                            <!-- Thumbnails (preview) -->
                            <div class="swiper-container gallery-thumbs">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Render.JPG" alt="">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Render_01.JPG" alt="">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Robot-01.png" alt="">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-00.png" alt="">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-01.png" alt="">
                                    </div>
                                    <div class="swiper-slide">
                                        <img src="../../assets/projects/Autonomous warehouse mobile robot/Mechanism-02.png" alt="">
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="portfolio-info">
                            <h3>Project information</h3>
                            <ul>
                                <li><strong>Category</strong>: Robotics Project</li>
                                <li><strong>Client</strong>: Mansoura University Graduation Project</li>
                                <li><strong>Project due date</strong>: 24 June, 2024</li>
                                <li><strong>Project URL</strong>: <a href="#">www.example.com</a></li>
                            </ul>
                        </div>
                        <div id="model-preview-container" style="position: relative; text-align: center; margin-top: 20px;">
                            <button id="render3DButton" style="padding: 15px 25px; background-color: #f1f1f1; color: #333; border: 1px solid #ccc; border-radius: 8px; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); transition: background-color 0.3s, box-shadow 0.3s;">
                                <img src="..\..\assets\img\3d_render.png" alt="3D Model" style="width: 35px; height: auto; margin-right: 12px;">
                                <span style="display: flex; align-items: center;">
                                    <i class="fas fa-cube" style="margin-right: 8px; font-size: 20px;"></i> Render 3D Model
                                </span>
                            </button>
                        </div>


                        <!-- Hidden iframe to load the 3D model -->
                        <div id="modelFrameContainer" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000;">
                            <button id="closeButton" style="position: absolute; top: 10px; right: 20px; background-color: transparent; border: none; font-size: 24px; color: black; cursor: pointer;">&times;</button>
                            <iframe id="modelFrame" src="preview_model.html" style="width: 90%; height: 90%; margin: 5% auto; display: block; border: none; border-radius: 10px;"></iframe>
                        </div>

                    </div>

                </div>
            </div>
            <div class="portfolio-details">
                <h2>Project Involvement</h2>
                <p>As part of <strong>my engineering curriculum</strong>, I had the opportunity to work on the "<span style="color: rgb(8, 86, 8);font-weight: bold;">Autonomous mobile robot</span>", aimed at working in Collaborative environment or on his own. </p>

                <h3>Roles and Responsibilities</h3>
                <p>In the "<span style="color: rgb(8, 86, 8);font-weight: bold;">Autonomous mobile robot</span>" project, I served as the lead developer and crucial part of the team. My responsibilities included:</p>
                <ul class="roles">
                    <!-- Software Lead and Developer Section -->
                    <h6 style="margin-left: -22px;">
                        <a href="#software-lead-and-developer">Software lead and developer:</a>
                    </h6>
                    <li>
                        <a href="#flowchart-plan">As a software lead, I had to build a <strong>flowchart and plan</strong> so we can all share the same goal with compatible steps.</a>
                    </li>
                    <li>
                        <a href="#os-environment">Setup the <strong>OS environment</strong> and needed tools and <strong>backup</strong> certain milestones.</a>
                    </li>
                    <li>
                        <a href="#local-server">Prepare <strong>local server</strong> for <strong>communication</strong> between the RPI and host machine and external controller</a>
                    </li>
                    <li>
                        <a href="#code-review">I worked as <strong>Code reviewer and debugger</strong></a>
                    </li>

                    <!-- Hardware Assistance Section -->
                    <h6 style="margin-left: -22px;">
                        <a href="#hardware-assistance">Hardware Assistance:</a>
                    </h6>
                    <li>
                        <a href="#hardware-assembly">I worked on <strong>assembling</strong> the <strong>hardware</strong>.</a>
                    </li>
                    <li>
                        <a href="#problem-solving">I was the <strong>key</strong> to <strong>solve crucial problems</strong> (Stepper driver level shifting between source and controller, motor driver, ...).</a>
                    </li>

                    <!-- Mechanical Assistance Section -->
                    <h6 style="margin-left: -22px;">
                        <a href="#mechanical-assistance">Mechanical Assistance:</a>
                    </h6>
                    <li>
                        <a href="#simulation-work">Despite the perfect work from our mechanical designer - I am proud of being his friend - I managed to work on simulation on simple aspects of lifting mechanism</a>
                    </li>
                    <li>
                        <a href="#torque-calculations">I worked on motor needed <strong>torque calculations</strong></a>
                    </li>
                </ul>


                <div class="swiper-slide video-container">
                    <video autoplay loop muted>
                        <source src="../../assets/projects/Autonomous warehouse mobile robot/Video 00.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>

                </div>
            </div>
            <div class="col-lg-8" style="margin-left: auto;margin-right: auto;">
                <div class="portfolio-details-slider swiper swiper1"> <!-- Unique class swiper1 -->
                    <div class="swiper-wrapper align-items-center">

                        <div class="swiper-slide">
                            <img src="..\..\assets\projects\Autonomous warehouse mobile robot\Software architecture.png" alt="">
                        </div>

                        <div class="swiper-slide">
                            <img src="../../assets/projects/Autonomous warehouse mobile robot/Motor Calculations.png" alt="">
                        </div>

                        <div class="swiper-slide">
                            <img src="../../assets/projects/Autonomous warehouse mobile robot/Brackets SImulation.jpg" alt="">
                        </div>

                    </div>
                    <!-- Thumbnails (preview) -->
                    <div class="swiper-container gallery-thumbs1"> <!-- Unique class swiper-thumbs1 -->
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="..\..\assets\projects\Autonomous warehouse mobile robot\Software architecture.png" alt="">
                            </div>

                            <div class="swiper-slide">
                                <img src="../../assets/projects/Autonomous warehouse mobile robot/Motor Calculations.png" alt="">
                            </div>

                            <div class="swiper-slide">
                                <img src="../../assets/projects/Autonomous warehouse mobile robot/Brackets SImulation.jpg" alt="">
                            </div>

                            <div class="swiper-slide">
                                <img src="../../assets/projects/Autonomous warehouse mobile robot/Brackets SImulation.jpg" alt="">
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="swiper-pagination swiper-pagination1"></div> <!-- Unique class swiper-pagination1 -->
                </div>
            </div>
            <br><br>
        </section>
        <!-- End Portfolio Details Section -->

    </main><!-- End #main -->

    <div id="preloader"></div>
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="../../assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="../../assets/vendor/aos/aos.js"></script>
    <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="../../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../../assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="../../assets/vendor/typed.js/typed.umd.js"></script>
    <script src="../../assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="../../assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="../../assets/js/main.js"></script>
    <!-- Redirect to main page if loaded directly -->
    <!-- Redirect to main page if loaded directly -->
    <script>
     

        document.getElementById('copyLinkButton').addEventListener('click', function(event) {
            event.preventDefault();
            const projectLink = window.location.href; // Use the current URL as the project link
            navigator.clipboard.writeText(projectLink).then(() => {
                // alert('Link copied to clipboard');
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        });
        // Add event listener for the 3D render button
        document.getElementById('render3DButton').addEventListener('click', function() {
            const mainContent = document.getElementById('main');
            const modelFrameContainer = document.createElement('div');
            modelFrameContainer.id = 'modelFrameContainer';
            modelFrameContainer.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000; display: flex; justify-content: center; align-items: center;';
            
            const closeButton = document.createElement('button');
            closeButton.id = 'closeButton';
            closeButton.style.cssText = 'position: absolute; top: 10px; right: 20px; background-color: transparent; border: none; font-size: 24px; color: white; cursor: pointer;';
            closeButton.innerHTML = '&times;';
            closeButton.addEventListener('click', function() {
                document.body.removeChild(modelFrameContainer);
                mainContent.style.display = 'block'; // Show main content again
            });

            const iframe = document.createElement('iframe');
            iframe.id = 'modelFrame';
            iframe.src = 'preview_model.html';
            iframe.style.cssText = 'width: 100%; height: 100%; border: none;';

            modelFrameContainer.appendChild(closeButton);
            modelFrameContainer.appendChild(iframe);
            document.body.appendChild(modelFrameContainer);

            mainContent.style.display = 'none'; // Hide main content
        });

        // document.getElementById('closeButton').addEventListener('click', function() {
        //     document.getElementById('modelFrameContainer').style.display = 'none';
        // });

         // First Swiper instance (Original)
        var galleryThumbs1 = new Swiper('.gallery-thumbs', {
            spaceBetween: 10,
            slidesPerView: 6, // Adjust based on the number of thumbnails
            freeMode: true,
            watchSlidesVisibility: true,
            watchSlidesProgress: true,
        });
        galleryThumbs1.slides[0].classList.add('swiper-slide-thumb-active');

        var galleryTop1 = new Swiper('.portfolio-details-slider', {
            spaceBetween: 10,
        });

        function updateActiveThumbnail1(index) {            
            galleryThumbs1.slides.forEach(function(slide) {
                slide.classList.remove('swiper-slide-thumb-active');
            });
            if (galleryThumbs1.slides[index]) {
                galleryThumbs1.slides[index].classList.add('swiper-slide-thumb-active');
            }
        }

        function getActiveSlideIndexFromData1() {
            var activeSlide = document.querySelector('.portfolio-details-slider .swiper-slide-active');
            if (activeSlide) {
                var index = parseInt(activeSlide.getAttribute('data-swiper-slide-index'), 10);
                return index;
            }
            return null;
        }

        // MutationObserver for the first Swiper instance
        var observer1 = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.target.classList.contains('swiper-slide-active')) {
                    var activeIndex = getActiveSlideIndexFromData1();
                    if (activeIndex !== null) {
                        updateActiveThumbnail1(activeIndex);
                    }
                }
            });
        });

        // Observe the swiper-wrapper for the first Swiper instance
        var targetNode1 = document.querySelector('.portfolio-details-slider .swiper-wrapper');
        if (targetNode1) {
            observer1.observe(targetNode1, {
                attributes: true, // Listen for attribute changes
                subtree: true,    // Observe all descendants, not just the direct child
                attributeFilter: ['class'] // Only observe changes to the 'class' attribute
            });
        }

        // Handle click events on thumbnails for the first Swiper instance
        galleryThumbs1.on('click', function(swiper) {
            if (!swiper.clickedSlide) {
                return;
            }
            var clickedSlide = swiper.clickedSlide;
            var clickedIndex = Array.prototype.indexOf.call(swiper.slides, clickedSlide);

            if (clickedIndex !== null && clickedIndex !== undefined) {
                clickedIndex = parseInt(clickedIndex, 10);

                // Trigger the corresponding pagination bullet
                var paginationBullets = document.querySelectorAll('.swiper-pagination-bullet');
                if (paginationBullets[clickedIndex]) {
                    paginationBullets[clickedIndex].click();
                }
            }
        });


        // Second Swiper instance (Duplicate)
        var galleryThumbs2 = new Swiper('.gallery-thumbs1', {
            spaceBetween: 10,
            slidesPerView: 3, // Adjust based on the number of thumbnails
            freeMode: true,
            watchSlidesVisibility: true,
            watchSlidesProgress: true,
        });
        galleryThumbs2.slides[0].classList.add('swiper-slide-thumb-active');

        var galleryTop2 = new Swiper('.swiper1', {
            spaceBetween: 10,
        });

        function updateActiveThumbnail2(index) {            
            galleryThumbs2.slides.forEach(function(slide) {
                slide.classList.remove('swiper-slide-thumb-active');
            });
            if (galleryThumbs2.slides[index]) {
                galleryThumbs2.slides[index].classList.add('swiper-slide-thumb-active');
            }
        }

        function getActiveSlideIndexFromData2() {
            var activeSlide = document.querySelector('.swiper1 .swiper-slide-active');
            if (activeSlide) {
                var index = parseInt(activeSlide.getAttribute('data-swiper-slide-index'), 10);
                return index;
            }
            return null;
        }

        // MutationObserver for the second Swiper instance
        var observer2 = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.target.classList.contains('swiper-slide-active')) {
                    var activeIndex = getActiveSlideIndexFromData2();
                    if (activeIndex !== null) {
                        updateActiveThumbnail2(activeIndex);
                    }
                }
            });
        });

        // Observe the swiper-wrapper for the second Swiper instance
        var targetNode2 = document.querySelector('.swiper1 .swiper-wrapper');
        if (targetNode2) {
            observer2.observe(targetNode2, {
                attributes: true, // Listen for attribute changes
                subtree: true,    // Observe all descendants, not just the direct child
                attributeFilter: ['class'] // Only observe changes to the 'class' attribute
            });
        }

        // Handle click events on thumbnails for the second Swiper instance
        galleryThumbs2.on('click', function(swiper) {
            if (!swiper.clickedSlide) {
                return;
            }
            var clickedSlide = swiper.clickedSlide;
            var clickedIndex = Array.prototype.indexOf.call(swiper.slides, clickedSlide);

            if (clickedIndex !== null && clickedIndex !== undefined) {
                clickedIndex = parseInt(clickedIndex, 10);

                // Trigger the corresponding pagination bullet
                var paginationBullets = document.querySelectorAll('.swiper-pagination1 .swiper-pagination-bullet');
                if (paginationBullets[clickedIndex]) {
                    paginationBullets[clickedIndex].click();
                }
            }
        });


        var _hash = window.location.hash;
        console.log('Initial Hash: ' + _hash);

        if (window === window.parent) {
            // The page is loaded directly, not inside an iframe
            var mainPageUrl = "../../?project=" + window.location.pathname;

            if (_hash) {
                // Pass the hash as a query parameter
                mainPageUrl += "&hash=" + encodeURIComponent(_hash.substring(1));
            }

            // Load the main page inside an iframe
            document.body.innerHTML = '<iframe id="project-frame" src="' + mainPageUrl + '" style="width:100%; height:100vh; border:none;"></iframe>';
        }
        window.addEventListener('message', function(event) {
            if (event.data.action === 'scrollToHash' && event.data.hash) {
                var targetElement = document.querySelector(event.data.hash);
                if (targetElement) {
                    console.log('Scrolling inside iframe to: ' + event.data.hash);
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });


    </script>
</body>

</html>